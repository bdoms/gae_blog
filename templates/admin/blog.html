<%inherit file="base.html"/>

% if blog:
    <h3>Configuration</h3>
% else:
    <h3>Blog Setup</h3>
% endif

<form action="" method="post">
    <p>
        <label for="title">Blog Title:</label>
        <input type="text" name="title" value="${blog and blog.title or ''}" />
    </p>
    <p>
        <label for="description">Blog Description:</label>
        <input type="text" name="description" value="${blog and blog.description or ''}" />
        <span class="help">(optional, used by RSS and default meta tags)</span>
    </p>
    <p>
        <label for="comments-box">Enable Comments:</label>
        % if blog and blog.comments:
            <input type="checkbox" name="comments" id="comments-box" checked="checked" />
        % else:
            <input type="checkbox" name="comments" id="comments-box" />
        % endif
    </p>
    <p>
        <label for="moderation_alert-box">Enable Email Alerts for Comments Needing Moderation:</label>
        % if blog and blog.moderation_alert:
            <input type="checkbox" name="moderation_alert" id="moderation_alert-box" checked="checked" />
        % else:
            <input type="checkbox" name="moderation_alert" id="moderation_alert-box" />
        % endif
    </p>
    <p>
        <label for="contact-box">Enable Contact Page:</label>
        % if blog and blog.contact:
            <input type="checkbox" name="contact" id="contact-box" checked="checked" />
        % else:
            <input type="checkbox" name="contact" id="contact-box" />
        % endif
    </p>
    <p>
        <label for="admin_email">Admin Email:</label>
        <input type="text" name="admin_email" value="${blog and blog.admin_email or ''}" />
        <span class="help">(required for email alerts or the contact page to work correctly, must match the email address of a GAE admin)</span>
    </p>
    <p>
        <label for="posts_per_page">Posts Per Page:</label>
        <input type="text" name="posts_per_page" value="${blog and blog.posts_per_page or 10}" />
        <span class="help">(control how many posts are shown at once on index pages)</span>
    </p>
    <p>
        <label for="posts_per_page">Image Preview Width:</label>
        <input type="text" name="image_preview_width" value="${blog and blog.image_preview_width or 600}" />
        <span class="help">(the maximum number of pixels wide for previews)</span>
    </p>
    <p>
        <label for="posts_per_page">Image Preview Height:</label>
        <input type="text" name="image_preview_height" value="${blog and blog.image_preview_height or 600}" />
        <span class="help">(the maximum number of pixels high for previews)</span>
    </p>
    <p>
        <label for="url">Blog URL:</label>
        <input type="text" name="url" value="${blog and blog.url or blog_url}" />
        <span class="help">(WARNING: changing this may break things, see readme for instructions)</span>
    </p>
    <p>
        <label for="template">Base Template:</label>
        <input type="text" name="template" value="${blog and blog.template or ''}" />
        <span class="help">(relative path from your parent project)</span>
    </p>
    <p>
        <label for="blocklist">IP Address Blocklist:</label>
        <span class="help">(newline separated)</span>
    </p>
    % if blog and blog.blocklist:
<textarea name="blocklist">
% for address in blog.blocklist:
${address}
% endfor
</textarea>
    % else:
        <textarea name="blocklist"></textarea>
    % endif

    % if blog:
        <p><input type="submit" value="Save Changes" /></p>
    % else:
        <p><input type="submit" value="Create New Blog" /></p>
    % endif
</form>

